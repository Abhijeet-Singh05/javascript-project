<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Part 1</title>
</head>
<body style="background-color: #212121; color:aliceblue ">

    <h1>XML HTTP Request</h1>

    <div id="container">
        <div id="card"></div>
        <button id="submit">click</button>

    </div>

    <script>

            const card = document.getElementById("card")
            const btnSubmit = document.getElementById("submit")

            let imageURL
            let followers
            let name

            const xhr = new XMLHttpRequest()
            const url = "https://api.github.com/users/hiteshchoudhary"
            xhr.open("GET",url)
            xhr.onreadystatechange = ()=>{
                    console.log(xhr.readyState)
                    if(xhr.readyState === 4){
                        const data = JSON.parse(xhr.responseText)
                        console.log(data)
                        imageURL = data.avatar_url
                        followers = data.followers
                        name = data.name
                    }
            }

            btnSubmit.addEventListener("click",()=>{
                card.innerHTML = `<div style="background-image:url('${imageURL}'); height: 400px; width: 500px"></div>
                        <p>Name: ${name} <br> followers: ${followers}</p>
                        `
                    
            })
            
            xhr.send()
            
    </script>

</body>
</html>